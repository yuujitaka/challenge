(this.webpackJsonpmovie=this.webpackJsonpmovie||[]).push([[0],{131:function(e,t,n){},157:function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),c=n(15),a=n.n(c),o=(n(131),n(39)),s=n(214),l=n(220),j=n(100),u=n(110),d=Object(u.a)({palette:{primary:{main:"#0d253f",light:"#01b4e4"},secondary:{main:"#90cea1"}},typography:{fontFamily:["inherit"]}}),b=n(17),h=n(59),O=n(37),p=n.n(O),x=n(49),v=n(222),g=n(99),m=n.n(g).a.create({baseURL:"https://api.themoviedb.org/3/"});m.interceptors.request.use((function(e){return e.headers.Authorization="Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJiNWE2NDUyZjMwYzZjMjRmNzY4YzQxYWI2ZGNiZWJjOSIsInN1YiI6IjYxMjI2ZmNkYmJjYWUwMDA1ZDhlOWI2YSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.s3S-y0-zU0JKgmcxrjJUEm85G9uNjwlfkJgBEM0dZPs",e}),(function(e){Promise.reject(e)}));var f,y,w,I,F,k,J,_=m,M=function(){var e=Object(x.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.get("/movie/popular?page=".concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(e){return Object(v.a)(["popular",e],(function(){return M(e)}),{retry:!1,refetchOnWindowFocus:!1})},S=n(205),W=n(159),z=n(26),Y=n(27),B=n(204),N=n(203),Z=n(200),D=Object(Y.a)(Z.a)(f||(f=Object(z.a)(["\n  height: 100%;\n"]))),P=Object(Y.a)(N.a)(y||(y=Object(z.a)(["\n  height: 370px;\n"]))),L=Object(Y.a)(B.a)(w||(w=Object(z.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"]))),T=n(105),G=n.n(T),U=Object(Y.a)("div")(I||(I=Object(z.a)(["\n  display: inline-flex;\n  align-items: center;\n  background-color: #ff9e00;\n  border-radius: 4px;\n  padding: 0 3px;\n  color: white;\n"]))),A=n(4),E=function(e){var t=e.children;return Object(A.jsxs)(U,{children:[Object(A.jsx)(G.a,{fontSize:"small"}),t]})},Q=Object(b.g)((function(e){var t=e.movie,n=t.id,r=t.title,i=t.poster_path,c=t.vote_average,a=e.history;return Object(A.jsx)(D,{children:Object(A.jsxs)(S.a,{onClick:function(){return a.push("/movie/".concat(n))},children:[Object(A.jsx)(P,{image:"https://image.tmdb.org/t/p/w500/".concat(i),title:r}),Object(A.jsxs)(L,{children:[Object(A.jsx)(W.a,{children:r}),Object(A.jsx)(E,{children:c})]})]})})})),q=n(208),R=n(219),H=n(207),K=n(217),V=n(206),X=function(){var e,t=Object(r.useState)(1),n=Object(h.a)(t,2),i=n[0],c=n[1],a=C(i),o=a.data,s=a.isFetching;return Object(A.jsxs)(A.Fragment,{children:[s&&Object(A.jsx)(V.a,{color:"secondary"}),Object(A.jsxs)(H.a,{maxWidth:"xl",children:[Object(A.jsx)(K.a,{my:4,children:Object(A.jsx)(W.a,{variant:"h4",children:"Popular"})}),Object(A.jsx)(q.a,{container:!0,spacing:3,children:null===o||void 0===o||null===(e=o.results)||void 0===e?void 0:e.map((function(e){return Object(A.jsx)(q.a,{item:!0,xs:6,md:3,lg:2,children:Object(A.jsx)(Q,{movie:e})},e.id)}))}),Object(A.jsx)(K.a,{my:4,display:"flex",justifyContent:"center",children:Object(A.jsx)(R.a,{count:null===o||void 0===o?void 0:o.total_pages,page:i,onChange:function(e,t){c(t)}})})]})]})},$=function(){var e=Object(x.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.get("/movie/".concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=function(e){return Object(v.a)(["movie",e],(function(){return $(e)}),{retry:!1,refetchOnWindowFocus:!1,enabled:!!e})},te=Object(Y.a)("section")(F||(F=Object(z.a)(["\n  background-image: linear-gradient(#000000bf, #000000bf),\n    url(https://image.tmdb.org/t/p/w1920_and_h800_multi_faces/",");\n  background-repeat: no-repeat;\n  background-size: cover;\n  width: 100%;\n  background-position: center;\n  color: white;\n"])),(function(e){return e.url})),ne=function(e){var t=e.url,n=e.children;return Object(A.jsx)(te,{url:t,children:n})},re=function(){var e=Object(b.f)().id,t=ee(e),n=t.data,r=t.isFetching,i=new Date(null===n||void 0===n?void 0:n.release_date).getFullYear();return Object(A.jsx)(A.Fragment,{children:r?Object(A.jsx)(V.a,{color:"secondary"}):Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(ne,{url:null===n||void 0===n?void 0:n.backdrop_path,children:Object(A.jsx)(H.a,{children:Object(A.jsxs)(q.a,{container:!0,children:[Object(A.jsx)(q.a,{item:!0,md:3,children:Object(A.jsx)(K.a,{p:4,children:Object(A.jsx)("img",{src:"https://image.tmdb.org/t/p/w200/".concat(null===n||void 0===n?void 0:n.poster_path),alt:null===n||void 0===n?void 0:n.title})})}),Object(A.jsxs)(q.a,{item:!0,md:9,children:[Object(A.jsxs)(K.a,{mt:4,display:"flex",alignItems:"baseline",children:[Object(A.jsxs)(W.a,{variant:"h4",children:[null===n||void 0===n?void 0:n.title," (",i,")"]}),Object(A.jsx)(K.a,{ml:2,children:Object(A.jsx)(E,{children:null===n||void 0===n?void 0:n.vote_average})})]}),Object(A.jsxs)(W.a,{variant:"subtitle1",children:[null===n||void 0===n?void 0:n.genres.map((function(e){return e.name})).join(", ")," \u2022"," ",null===n||void 0===n?void 0:n.runtime,"m"]}),Object(A.jsxs)(W.a,{variant:"subtitle1",children:["Original Language: ",null===n||void 0===n?void 0:n.original_language]})]})]})})}),Object(A.jsx)(H.a,{children:Object(A.jsxs)(K.a,{my:4,children:[Object(A.jsx)(W.a,{variant:"h6",children:"Sinopse"}),Object(A.jsx)(W.a,{children:null===n||void 0===n?void 0:n.overview})]})})]})})},ie=function(){return Object(A.jsxs)(b.c,{children:[Object(A.jsx)(b.a,{exact:!0,path:"/",component:X}),Object(A.jsx)(b.a,{path:"/movie/:id",component:re})]})},ce=n(60),ae=n(106),oe=n(210),se=n(218),le=n(211),je=n(213),ue=n(109),de=n.n(ue),be=n(108),he=n.n(be),Oe=n(224),pe=n(221),xe=function(){var e=Object(x.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.get("/search/movie?query=".concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ve=function(e){return Object(v.a)(["search",e],(function(){return xe(e)}),{retry:!1,refetchOnWindowFocus:!1,enabled:!!e})},ge=n(215),me=Object(Y.a)(ge.a)(k||(k=Object(z.a)(["\n  width: 250px;\n  .MuiInputBase-input {\n    color: white;\n  }\n  .MuiInput-underline:before {\n    border-bottom: 1px solid white;\n  }\n  .MuiInput-underline:hover:not(.Mui-disabled):before {\n    border-bottom: 1px solid white;\n  }\n  .MuiIconButton-root {\n    color: white;\n  }\n"]))),fe=Object(b.g)((function(e){var t,n,i,c=e.history,a=Object(r.useState)(""),o=Object(h.a)(a,2),s=o[0],l=o[1],j=ve(s),u=j.data,d=j.isFetching,b=j.isError,O=j.error,p=Object(r.useState)(!0),x=Object(h.a)(p,2),v=x[0],g=x[1],m=Object(ae.debounce)((function(e){l(e.target.value)}),500);return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(oe.a,{position:"sticky",children:Object(A.jsxs)(le.a,{children:[Object(A.jsx)(K.a,{flexGrow:1,children:Object(A.jsx)(W.a,{variant:"h6",style:{flexGrow:1},children:"Challenge"})}),Object(A.jsx)(se.a,{options:null!==(t=null===u||void 0===u?void 0:u.results)&&void 0!==t?t:[],getOptionLabel:function(e){return e.original_title},renderOption:function(e){return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(he.a,{}),Object(A.jsx)(K.a,{ml:1,children:e.original_title})]})},loading:d,loadingText:"Carregando...",onChange:function(e,t){(null===t||void 0===t?void 0:t.id)&&c.push("/movie/".concat(t.id))},noOptionsText:(null===u||void 0===u?void 0:u.results)?"Movie not found":"Search a movie...",renderInput:function(e){return Object(A.jsx)(me,Object(ce.a)(Object(ce.a)({},e),{},{color:"secondary",placeholder:"Search",InputProps:Object(ce.a)(Object(ce.a)({},e.InputProps),{},{startAdornment:Object(A.jsx)(je.a,{position:"start",children:Object(A.jsx)(de.a,{color:"secondary"})})}),onChange:m}))}})]})}),b&&Object(A.jsx)(Oe.a,{open:v,autoHideDuration:6e3,onClose:function(){g(!1)},anchorOrigin:{vertical:"top",horizontal:"center"},children:Object(A.jsx)(pe.a,{severity:"error",variant:"filled",children:null===O||void 0===O||null===(n=O.response)||void 0===n||null===(i=n.data)||void 0===i?void 0:i.status_message})})]})})),ye=n(225),we=Object(ye.a)(Object(Y.a)("footer")(J||(J=Object(z.a)(["\n  background-color: ",";\n  color: white;\n  margin-top: auto;\n"])),(function(e){return e.theme.palette.primary.main}))),Ie=n.p+"static/media/logo.da3f379f.svg",Fe=function(){return Object(A.jsx)(we,{children:Object(A.jsxs)(K.a,{textAlign:"center",p:4,children:[Object(A.jsx)(K.a,{mb:2,children:Object(A.jsx)("img",{src:Ie,alt:"Logo",width:"200px"})}),Object(A.jsx)("span",{children:"This product uses the TMDB API but is not endorsed or certified by TMDB"})]})})};var ke=function(){var e=new l.a;return Object(A.jsx)(j.a,{client:e,children:Object(A.jsx)(s.a,{theme:d,children:Object(A.jsx)(o.a,{children:Object(A.jsxs)(o.b,{basename:"/challenge",children:[Object(A.jsx)(fe,{}),Object(A.jsx)(ie,{}),Object(A.jsx)(Fe,{})]})})})})},Je=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,227)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,c=t.getLCP,a=t.getTTFB;n(e),r(e),i(e),c(e),a(e)}))};a.a.render(Object(A.jsx)(i.a.StrictMode,{children:Object(A.jsx)(ke,{})}),document.getElementById("root")),Je()}},[[157,1,2]]]);
//# sourceMappingURL=main.8f7937a6.chunk.js.map